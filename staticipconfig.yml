---
- name: ðŸ› ï¸ Static Network Configuration
  hosts: "{{ target_hosts }}"
  become: true

  tasks:
    - name: add dns entries in resolv config
      copy:
       dest:
       content: |
          # Generated by NetworkManager
          search vgs.com
          nameserver 8.8.8.8
       owner: root
       group: root
       mode: 0644

    - name: Download staticipconfig.sh from GitHub to remote host
      get_url:
        url: "https://raw.githubusercontent.com/Vignesh-8419/ANSIBLE/main/staticipconfig.sh"
        dest: "/tmp/staticipconfig.sh"
        mode: '0755'

    - name: Execute staticipconfig.sh on remote host and store output
      shell: "/tmp/staticipconfig.sh > /tmp/staticipconfig.txt 2>&1"
